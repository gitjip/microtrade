# MicroTrade 应用程序说明

## 项目概述

MicroTrade 是一个基于 Qt 框架开发的小型贸易应用程序，包含客户端和服务器端组件，支持用户注册、登录、商品浏览、购物车管理等功能。

## 功能特点

- 用户认证：支持注册、登录和注销功能
- 商品管理：查看商品详情及相关促销信息
- 购物车操作：添加商品到购物车
- 数据同步：支持客户端与服务器的数据同步

## 项目结构

```
microtrade/
├── client/           # 客户端代码
│   ├── main.cpp      # 客户端入口
│   ├── mainwindow.*  # 主窗口
│   ├── welcomewidget.* # 欢迎界面(登录/注册)
│   ├── logindialog.*  # 登录对话框
│   ├── registerdialog.* # 注册对话框
│   ├── productdialog.*  # 商品详情对话框
│   ├── commander.*    # 全局状态管理
│   └── config.*       # 客户端配置
├── server/           # 服务器端代码
│   ├── main.cpp      # 服务器入口
│   ├── tcplocalserver.* # TCP服务器
│   ├── config.*       # 服务器配置
│   └── sql*.*        # 数据库操作类
├── entity/           # 数据实体类
│   ├── authorization.* # 授权信息
│   ├── product.*      # 商品信息
│   ├── promotion.*    # 促销信息
│   └── cart.*         # 购物车信息
└── tcpserver/        # TCP通信相关
    └── tcpserver.*   # TCP服务器基础类
```

## 编译与运行

### 依赖项

- Qt 框架 (支持 Qt 5 及以上版本)
- C++ 编译器 (支持 C++11 及以上标准)
- 数据库驱动 (SQLite)

### 编译步骤

1. 使用 Qt Creator 打开项目文件
2. 选择适当的构建配置 (Debug/Release)
3. 构建项目生成客户端和服务器可执行文件

### 运行方式

1. 首先启动服务器程序
2. 启动客户端程序
3. 首次使用需注册账号，已有账号可直接登录

## 使用说明

1. **注册/登录**：启动客户端后，在欢迎界面进行注册或登录操作
2. **浏览商品**：登录后可浏览商品列表，点击商品查看详情
3. **查看促销**：在商品详情页可查看相关促销信息
4. **添加购物车**：在商品详情页可将商品添加到购物车
5. **退出登录**：通过欢迎界面的退出按钮安全退出

## 配置说明

- 客户端配置文件：`client.ini`，包含服务器地址、端口等网络配置
- 服务器配置文件：`server.ini`，包含网络配置、数据库配置和线程池配置
- 数据库生成脚本：`microtrade.sql`，包含生成数据库架构的脚本代码

## 注意事项

- 确保服务器启动后再启动客户端
- 网络配置需保证客户端与服务器地址和端口一致
- 退出程序时建议通过正常流程注销，以确保数据同步

## 开发相关

项目使用 Qt 的信号与槽机制实现模块间通信，采用 MVC 模式分离数据、界面和业务逻辑。网络通信基于 TCP 协议，数据交换使用 JSON 格式。
